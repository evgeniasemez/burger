<div class="burgerImage">
    <img src="/assets/img/burger.jpg" style="
    width: 20%;">
</div>

<h2>Eat-Da-Burger!</h2>

{{!-- <div class="burgerImage">
    <img src="/public/assets/img/burger2.jpeg">
</div> --}}

<div class="undevoured">
    <ul>
        {{#each burger}}
        <li>{{this.id}}: {{this.burger_name}}<button type="button" class="devourButton"
                attributeDevour="{{this.id}}">Devour!</button></li>
        {{!-- <button type="button" class="devourButton">Devour!</button> --}}
        {{/each}}
    </ul>
</div>

<div class="devoured">
    <ul>
        {{#each eatenBurger}}
        <li>{{this.burger_name}}</li>
        {{/each}}
    </ul>
</div>
<div>
    <form id="createplan" class="button-size center">
        <textarea type="text" class="text" name="plan"></textarea>
        <button type="button" class="button">Save a Burger!</button>
    </form>
</div>
<script type="text/javascript">
    $(".button").on("click", function (event) {
        var value = $(".text").val();
        // Send the PUT request.
        var newBurger = { name: value };
        $.ajax("/api/burger", {
            type: "PUT",
            data: newBurger
        }).then(
            function () {
                console.log("updated burger ", newBurger);
                // Reload the page to get the updated list
                location.reload();
            }
        );
    });
    $(".devourButton").on("click", function (event) {
        var devourBurger = { id: this.attr("attributeDevour")};
        $.ajax("/api/burger", {
            type: "POST",
            data: devourBurger
        }).then(
            function () {
                console.log("devour burger ", devourBurger);
                location.reload();
            }
        );
    });

</script>